{"ast":null,"code":"import _classCallCheck from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/Components/shittag.js\";\nimport React from 'react';\nvar deferredPrompt;\n\nvar ShitTag =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ShitTag, _React$Component);\n\n  function ShitTag(props, context) {\n    var _this;\n\n    _classCallCheck(this, ShitTag);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ShitTag).call(this, props, context));\n    _this.state = {\n      appDownload: false\n    };\n    return _this;\n  }\n\n  _createClass(ShitTag, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('beforeinstallprompt', function (e) {\n        // Prevent Chrome 67 and earlier from automatically showing the prompt\n        e.preventDefault(); // Stash the event so it can be triggered later.\n\n        deferredPrompt = e; // Update UI notify the user they can add to home screen\n\n        console.log('app download');\n\n        _this2.setState({\n          appDownload: true\n        });\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      console.log('should download');\n      deferredPrompt.prompt(); // Wait for the user to respond to the prompt\n\n      deferredPrompt.userChoice.then(function (choiceResult) {\n        if (choiceResult.outcome === 'accepted') {\n          console.log('User accepted the A2HS prompt');\n        } else {\n          console.log('User dismissed the A2HS prompt');\n        }\n\n        deferredPrompt = null;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"ShitTag\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Shitstorm \", React.createElement(\"span\", {\n        className: \"version\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"beta\"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), this.state.appDownload ? 'Download The App' : '');\n    }\n  }]);\n\n  return ShitTag;\n}(React.Component);\n\nexport default ShitTag;","map":{"version":3,"sources":["/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/Components/shittag.js"],"names":["React","deferredPrompt","ShitTag","props","context","state","appDownload","window","addEventListener","e","preventDefault","console","log","setState","prompt","userChoice","then","choiceResult","outcome","handleClick","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,IAAIC,cAAJ;;IAEMC,O;;;;;AACF,mBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,iFAAMD,KAAN,EAAaC,OAAb;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE;AADJ,KAAb;AAHwB;AAQ1B;;;;wCAEkB;AAAA;;AAChBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,qBAAxB,EAA+C,UAACC,CAAD,EAAO;AAClD;AACAA,QAAAA,CAAC,CAACC,cAAF,GAFkD,CAGlD;;AACAT,QAAAA,cAAc,GAAGQ,CAAjB,CAJkD,CAKlD;;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,QAAA,MAAI,CAACC,QAAL,CAAe;AACXP,UAAAA,WAAW,EAAE;AADF,SAAf;AAGH,OAVD;AAWH;;;kCAEa;AACVK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAX,MAAAA,cAAc,CAACa,MAAf,GAFU,CAGd;;AACIb,MAAAA,cAAc,CAACc,UAAf,CACKC,IADL,CACU,UAACC,YAAD,EAAkB;AACxB,YAAIA,YAAY,CAACC,OAAb,KAAyB,UAA7B,EAAyC;AACrCP,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACH,SAFD,MAEO;AACHD,UAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACH;;AACDX,QAAAA,cAAc,GAAG,IAAjB;AACC,OARL;AASD;;;6BAEM;AAEL,aACI;AAAK,QAAA,SAAS,EAAC,SAAf;AAAyB,QAAA,OAAO,EAAE,KAAKkB,WAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACc;AAAM,QAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADd,OACoD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADpD,EAEK,KAAKd,KAAL,CAAWC,WAAX,GAAyB,kBAAzB,GAA8C,EAFnD,CADJ;AAMH;;;;EAhDiBN,KAAK,CAACoB,S;;AAoD5B,eAAelB,OAAf","sourcesContent":["import React from 'react'\n\n\n\nlet deferredPrompt;\n\nclass ShitTag extends React.Component {\n    constructor(props, context) { \n        super(props, context);\n     \n        this.state = {\n            appDownload: false\n        };\n\n\n     };\n\n    componentDidMount() {\n        window.addEventListener('beforeinstallprompt', (e) => {\n            // Prevent Chrome 67 and earlier from automatically showing the prompt\n            e.preventDefault();\n            // Stash the event so it can be triggered later.\n            deferredPrompt = e;\n            // Update UI notify the user they can add to home screen\n            console.log('app download')\n            this.setState( {\n                appDownload: true\n            })\n        });\n    }\n    \n    handleClick() {\n        console.log('should download')\n        deferredPrompt.prompt();\n    // Wait for the user to respond to the prompt\n        deferredPrompt.userChoice\n            .then((choiceResult) => {\n            if (choiceResult.outcome === 'accepted') {\n                console.log('User accepted the A2HS prompt');\n            } else {\n                console.log('User dismissed the A2HS prompt');\n            }\n            deferredPrompt = null;\n            });\n      }\n\n    render() {\n\n        return (\n            <div className=\"ShitTag\" onClick={this.handleClick}>\n                Shitstorm <span className=\"version\">beta</span> <br />\n                {this.state.appDownload ? 'Download The App' : ''}\n            </div>\n        )\n    }\n}\n\n\nexport default ShitTag\n"]},"metadata":{},"sourceType":"module"}