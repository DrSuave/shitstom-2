{"ast":null,"code":"import _classCallCheck from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/Components/prompt.js\";\nimport React from 'react';\nvar deferredPrompt;\n\nvar Prompt =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Prompt, _React$Component);\n\n  function Prompt(props, context) {\n    var _this;\n\n    _classCallCheck(this, Prompt);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Prompt).call(this, props, context));\n    _this.state = {\n      appDownload: false\n    };\n    return _this;\n  }\n\n  _createClass(Prompt, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      window.addEventListener('beforeinstallprompt', function (e) {\n        // Prevent Chrome 67 and earlier from automatically showing the prompt\n        e.preventDefault(); // Stash the event so it can be triggered later.\n\n        deferredPrompt = e; // Update UI notify the user they can add to home screen\n\n        console.log('app download');\n\n        _this2.setState({\n          appDownload: true\n        });\n      });\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      console.log('should download');\n      deferredPrompt.prompt(); // Wait for the user to respond to the prompt\n\n      deferredPrompt.userChoice.then(function (choiceResult) {\n        if (choiceResult.outcome === 'accepted') {\n          console.log('User accepted the A2HS prompt');\n        } else {\n          console.log('User dismissed the A2HS prompt');\n        }\n\n        deferredPrompt = null;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Prompt\",\n        onClick: this.handleClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"gravitas\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Download Shitstorm\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Unbridled weather power. At your fucking fingertips.\")));\n    }\n  }]);\n\n  return Prompt;\n}(React.Component);\n\nexport default Prompt;","map":{"version":3,"sources":["/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/Components/prompt.js"],"names":["React","deferredPrompt","Prompt","props","context","state","appDownload","window","addEventListener","e","preventDefault","console","log","setState","prompt","userChoice","then","choiceResult","outcome","handleClick","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,cAAJ;;IAEMC,M;;;;;AACF,kBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,gFAAMD,KAAN,EAAaC,OAAb;AAEA,UAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE;AADJ,KAAb;AAHwB;AAQ1B;;;;wCAEkB;AAAA;;AAChBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,qBAAxB,EAA+C,UAACC,CAAD,EAAO;AAClD;AACAA,QAAAA,CAAC,CAACC,cAAF,GAFkD,CAGlD;;AACAT,QAAAA,cAAc,GAAGQ,CAAjB,CAJkD,CAKlD;;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;;AACA,QAAA,MAAI,CAACC,QAAL,CAAe;AACXP,UAAAA,WAAW,EAAE;AADF,SAAf;AAGH,OAVD;AAWH;;;kCAEa;AACVK,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAX,MAAAA,cAAc,CAACa,MAAf,GAFU,CAGd;;AACIb,MAAAA,cAAc,CAACc,UAAf,CACKC,IADL,CACU,UAACC,YAAD,EAAkB;AACxB,YAAIA,YAAY,CAACC,OAAb,KAAyB,UAA7B,EAAyC;AACrCP,UAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACH,SAFD,MAEO;AACHD,UAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACH;;AACDX,QAAAA,cAAc,GAAG,IAAjB;AACC,OARL;AASD;;;6BAEM;AAEL,aACQ;AAAK,QAAA,SAAS,EAAC,QAAf;AAAwB,QAAA,OAAO,EAAE,KAAKkB,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAG,QAAA,SAAS,EAAC,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gEAFJ,CADJ,CADR;AAQH;;;;EAlDgBnB,KAAK,CAACoB,S;;AAsD3B,eAAelB,MAAf","sourcesContent":["import React from 'react'\n\nlet deferredPrompt;\n\nclass Prompt extends React.Component {\n    constructor(props, context) { \n        super(props, context);\n     \n        this.state = {\n            appDownload: false\n        };\n\n\n     };\n\n    componentDidMount() {\n        window.addEventListener('beforeinstallprompt', (e) => {\n            // Prevent Chrome 67 and earlier from automatically showing the prompt\n            e.preventDefault();\n            // Stash the event so it can be triggered later.\n            deferredPrompt = e;\n            // Update UI notify the user they can add to home screen\n            console.log('app download')\n            this.setState( {\n                appDownload: true\n            })\n        });\n    }\n    \n    handleClick() {\n        console.log('should download')\n        deferredPrompt.prompt();\n    // Wait for the user to respond to the prompt\n        deferredPrompt.userChoice\n            .then((choiceResult) => {\n            if (choiceResult.outcome === 'accepted') {\n                console.log('User accepted the A2HS prompt');\n            } else {\n                console.log('User dismissed the A2HS prompt');\n            }\n            deferredPrompt = null;\n            });\n      }\n\n    render() {\n\n        return (\n                <div className=\"Prompt\" onClick={this.handleClick}>\n                    <div>\n                        <p className='gravitas'>Download Shitstorm</p>\n                        <p>Unbridled weather power. At your fucking fingertips.</p>\n                    </div>\n                </div>\n        )\n    }\n}\n\n\nexport default Prompt\n"]},"metadata":{},"sourceType":"module"}