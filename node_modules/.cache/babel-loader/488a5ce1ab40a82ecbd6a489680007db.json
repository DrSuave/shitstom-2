{"ast":null,"code":"var _jsxFileName = \"/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/searchFunc.js\";\n//this is all stuff for Autosuggest\nexport function escapeRegexCharacters(str) {\n  return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\nexport function getSuggestions(value) {\n  var escapedValue = escapeRegexCharacters(value.trim());\n\n  if (escapedValue === '') {\n    return [];\n  }\n\n  var regex = new RegExp('^' + escapedValue, 'i'); //autosuggest checks our list of pre-approved cities that can trigger an API call\n\n  return cities.map(function (section) {\n    return {\n      title: section.title,\n      cities: section.cities.filter(function (language) {\n        return regex.test(language.name);\n      }) //we convert both the user-inputted search term and the cities themselves to lowercase so as to make searches case insensitive\n\n    };\n  }).filter(function (section) {\n    return section.cities.length > 0;\n  });\n}\nexport function getSuggestionValue(suggestion) {\n  return suggestion.name;\n}\nexport function renderSuggestion(suggestion) {\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, suggestion.name);\n}\nexport function renderSectionTitle(section) {\n  return React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, section.title);\n}\nexport function getSectionSuggestions(section) {\n  return section.cities;\n} //here we check the country the city belongs to. Right now there is only one possible country, but in future more may be added\n\nexport function getCountry(cities, prop, value) {\n  var result = cities.find(function (language) {\n    return language.cities.some(function (item) {\n      return item[prop].toLowerCase() === value.toLowerCase();\n    });\n  });\n  return result ? result.title : null;\n}","map":{"version":3,"sources":["/Users/wilfhorsfall/Google Drive/sites/shitstorm/shitstorm/src/searchFunc.js"],"names":["escapeRegexCharacters","str","replace","getSuggestions","value","escapedValue","trim","regex","RegExp","cities","map","section","title","filter","language","test","name","length","getSuggestionValue","suggestion","renderSuggestion","renderSectionTitle","getSectionSuggestions","getCountry","prop","result","find","some","item","toLowerCase"],"mappings":";AACA;AACE,OAAO,SAASA,qBAAT,CAA+BC,GAA/B,EAAoC;AACzC,SAAOA,GAAG,CAACC,OAAJ,CAAY,qBAAZ,EAAmC,MAAnC,CAAP;AACD;AAED,OAAO,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AACpC,MAAMC,YAAY,GAAGL,qBAAqB,CAACI,KAAK,CAACE,IAAN,EAAD,CAA1C;;AAEA,MAAID,YAAY,KAAK,EAArB,EAAyB;AACvB,WAAO,EAAP;AACD;;AAED,MAAME,KAAK,GAAG,IAAIC,MAAJ,CAAW,MAAMH,YAAjB,EAA+B,GAA/B,CAAd,CAPoC,CASpC;;AACA,SAAOI,MAAM,CACVC,GADI,CACA,UAAAC,OAAO,EAAI;AACd,WAAO;AACLC,MAAAA,KAAK,EAAED,OAAO,CAACC,KADV;AAELH,MAAAA,MAAM,EAAEE,OAAO,CAACF,MAAR,CAAeI,MAAf,CAAsB,UAAAC,QAAQ;AAAA,eAAIP,KAAK,CAACQ,IAAN,CAAWD,QAAQ,CAACE,IAApB,CAAJ;AAAA,OAA9B,CAFH,CAEgE;;AAFhE,KAAP;AAID,GANI,EAOJH,MAPI,CAOG,UAAAF,OAAO;AAAA,WAAIA,OAAO,CAACF,MAAR,CAAeQ,MAAf,GAAwB,CAA5B;AAAA,GAPV,CAAP;AAQD;AAGD,OAAO,SAASC,kBAAT,CAA4BC,UAA5B,EAAwC;AAC7C,SAAOA,UAAU,CAACH,IAAlB;AACD;AAED,OAAO,SAASI,gBAAT,CAA0BD,UAA1B,EAAsC;AAC3C,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOA,UAAU,CAACH,IAAlB,CADF;AAGD;AAED,OAAO,SAASK,kBAAT,CAA4BV,OAA5B,EAAqC;AAC1C,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASA,OAAO,CAACC,KAAjB,CADF;AAGD;AAED,OAAO,SAASU,qBAAT,CAA+BX,OAA/B,EAAwC;AAC7C,SAAOA,OAAO,CAACF,MAAf;AACD,C,CAED;;AACA,OAAO,SAASc,UAAT,CAAoBd,MAApB,EAA4Be,IAA5B,EAAkCpB,KAAlC,EAAyC;AAC9C,MAAIqB,MAAM,GAAGhB,MAAM,CAACiB,IAAP,CAAY,UAAUZ,QAAV,EAAoB;AAC3C,WAAOA,QAAQ,CAACL,MAAT,CAAgBkB,IAAhB,CAAqB,UAAUC,IAAV,EAAgB;AAC1C,aAAOA,IAAI,CAACJ,IAAD,CAAJ,CAAWK,WAAX,OAA6BzB,KAAK,CAACyB,WAAN,EAApC;AACD,KAFM,CAAP;AAGD,GAJY,CAAb;AAMA,SAAOJ,MAAM,GAAGA,MAAM,CAACb,KAAV,GAAkB,IAA/B;AACD","sourcesContent":["\n//this is all stuff for Autosuggest\n  export function escapeRegexCharacters(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n  }\n  \n  export function getSuggestions(value) {\n    const escapedValue = escapeRegexCharacters(value.trim());\n    \n    if (escapedValue === '') {\n      return [];\n    }\n  \n    const regex = new RegExp('^' + escapedValue, 'i');\n  \n    //autosuggest checks our list of pre-approved cities that can trigger an API call\n    return cities\n      .map(section => {\n        return {\n          title: section.title,\n          cities: section.cities.filter(language => regex.test(language.name)) //we convert both the user-inputted search term and the cities themselves to lowercase so as to make searches case insensitive\n        };\n      })\n      .filter(section => section.cities.length > 0);\n  }\n  \n  \n  export function getSuggestionValue(suggestion) {\n    return suggestion.name;\n  }\n  \n  export function renderSuggestion(suggestion) {\n    return (\n      <span>{suggestion.name}</span>\n    );\n  }\n  \n  export function renderSectionTitle(section) {\n    return (\n      <strong>{section.title}</strong>\n    );\n  }\n  \n  export function getSectionSuggestions(section) {\n    return section.cities;\n  }\n  \n  //here we check the country the city belongs to. Right now there is only one possible country, but in future more may be added\n  export function getCountry(cities, prop, value) {\n    var result = cities.find(function (language) {\n      return language.cities.some(function (item) {\n        return item[prop].toLowerCase() === value.toLowerCase()\n      })\n    })\n  \n    return result ? result.title : null\n  }"]},"metadata":{},"sourceType":"module"}